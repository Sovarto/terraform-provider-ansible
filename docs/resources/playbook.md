---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ansible_playbook Resource - ansible"
subcategory: ""
description: |-
  Provides an Ansible playbook resource.
---

# ansible_playbook (Resource)

Provides an Ansible playbook resource.

## Example Usage

```terraform
resource "ansible_playbook" "hello_world" {
  playbook  = "hello_world.yml"
  inventory = <<INV
  group1:
    hosts:
      host1
      host2
  INV

  store_output_in_state = false

  artifact_queries = {
    failures = {
      jsonpath = "$.stats.localhost.failures"
    }
    stdout = {
      jsonpath = "$.plays[?(@.play.name=='Hello World Playbook')].tasks[*].hosts[*]"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `inventory` (String) The inventory to use. Not a path, the contents.
- `playbook` (String) Path to ansible playbook.

### Optional

- `ansible_playbook_binary` (String)
- `artifact_queries` (Attributes Map) Query the playbook artifact with [JSONPath](https://goessner.net/articles/JsonPath/). The playbook artifact - the JSON output as generated by the [JSON Callback Plugin](https://docs.ansible.com/ansible/2.9/plugins/callback/json.html) - contains detailed information about every play and task from the playbook run. (see [below for nested schema](#nestedatt--artifact_queries))
- `extra_vars` (Map of String) A map of additional variables as: { keyString = "value-1", keyList = ["list-value-1", "list-value-2"], ... }.
- `store_output_in_state` (Boolean) Whether or not to store the output of running Ansible in the state. Enable only for debugging, because this is usually huge and may contain sensitive data.

### Read-Only

- `ansible_playbook_stderr` (String) An ansible-playbook CLI stderr output.
- `ansible_playbook_stdout` (String) An ansible-playbook CLI stdout output.
- `id` (String) Identifier
- `playbook_hash` (String) Hash of playbook.

<a id="nestedatt--artifact_queries"></a>
### Nested Schema for `artifact_queries`

Required:

- `jsonpath` (String) JSONPath expression.

Read-Only:

- `result` (String) Result of the query. Result may be empty if a field or map key cannot be located.
